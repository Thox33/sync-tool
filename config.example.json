{
  "types": {
    "user": {
      "fields": {
        "id": {
          "type": "string"
        },
        "email": {
          "type": "string",
          "default": ""
        }
      }
    },
    "project": {
      "fields": {
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "default": ""
        }
      }
    },
    "item": {
      "fields": {
        "id": {
          "type": "string"
        },
        "project": {
          "type": "reference",
          "reference_type": "project"
        },
        "name": {
          "type": "string",
          "default": ""
        },
        "description": {
          "type": "richtext",
          "default": ""
        },
        "createdAt": {
          "type": "datetime",
          "default": "now"
        },
        "createdBy": {
          "type": "reference",
          "reference_type": "user"
        },
        "modifiedAt": {
          "type": "datetime",
          "default": "now"
        },
        "modifiedBy": {
          "type": "reference",
          "reference_type": "user"
        },
        "syncStatus": {
          "type": "syncStatus",
          "default": ""
        }
      }
    }
  },
  "providers": {
    "<provider_name>": {
      "provider": "sync-tool-provider-jama",
      "options": {
        "url": "https://detectomat-prod.jamacloud.com",
        "clientId": "env(DET_JAMA_CLIENT_ID)",
        "clientSecret": "env(DET_JAMA_CLIENT_SECRET)"
      },
      "mappings": {
        "User": {
          "type": "user",
          "fields": {
            "id": "id",
            "email": "email"
          }
        },
        "Project": {
          "type": "project",
          "fields": {
            "id": "id",
            "name": "fields.name"
          }
        },
        "System Requirement": {
          "type": "item",
          "fields": {
            "id": "id",
            "project": "project",
            "name": "fields.name",
            "description": "fields.description",
            "createdAt": "createdDate",
            "createdBy": "createdBy",
            "modifiedAt": "modifiedDate",
            "modifiedBy": "modifiedBy",
            "syncStatus": "synctool_status"
          }
        }
      }
    },
    "<other_provider_name>": {
      "provider": "sync-tool-provider-azure-devops",
      "options": {
        "organization_url": "https://dev.azure.com/detectomat-pu",
        "personal_access_token": "env(DET_ADO_PERSONAL_ACCESS_TOKEN)"
      },
      "mappings": {
        "User": {
          "type": "user",
          "fields": {
            "id": "id",
            "email": "unique_name"
          }
        },
        "Project": {
          "type": "project",
          "fields": {
            "id": "id",
            "name": "name"
          }
        },
        "Feature": {
          "type": "item",
          "fields": {
            "id": "id",
            "name": "fields.[System.Title]",
            "description": "fields.description",
            "createdAt": "fields.[System.CreatedDate]",
            "modifiedAt": "fields.[System.ChangedDate]",
            "syncStatus": "fields.SyncTool Status"
          }
        },
        "User Story": {
          "type": "item",
          "fields": {
            "id": "id",
            "project": "fields.[System.TeamProject]",
            "name": "fields.[System.Title]",
            "description": "fields.[System.Description]",
            "createdAt": "fields.[System.CreatedDate]",
            "createdBy": "fields.[System.CreatedBy].uniqueName",
            "modifiedAt": "fields.[System.ChangedDate]",
            "modifiedBy": "fields.[System.ChangedBy].uniqueName"
          }
        }
      }
    }
  },
  "sync": {
    "<sync_name>": {
      "rules": {
        "<rule_name>": {
          "source": {
            "provider": "<provider_name>",
            "mapping": "<internal_type_name>",
            "query": {
              "filter": {
                "project": [
                  "<project>"
                ],
                "itemType": [
                  "<itemType>"
                ],
                "documentKey": [
                  "<documentKey>"
                ],
                "release": [
                  "<release>"
                ]
              }
            }
          },
          "transformer": {
            "<field_name>": [
              {
                "type": "mapping",
                "map": {
                  "source_value": "destination_value",
                  "source_value_2": "destination_value_2"
                }
              }
            ]
          },
          "destination": {
            "provider": "<other_provider_name>",
            "mapping": "<internal_type_name>",
            "query": {
              "filter": {
                "project": "<project>",
                "itemId": "<itemId>"
              }
            }
          }
        }
      }
    }
  }
}
